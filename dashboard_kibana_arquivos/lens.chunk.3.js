/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.lens_bundle_jsonpfunction=window.lens_bundle_jsonpfunction||[]).push([[3],{525:function(t,n,e){!function(n){"use strict";const e="(0?\\d+|0x[a-f0-9]+)",r={fourOctet:new RegExp(`^${e}\\.${e}\\.${e}\\.${e}$`,"i"),threeOctet:new RegExp(`^${e}\\.${e}\\.${e}$`,"i"),twoOctet:new RegExp(`^${e}\\.${e}$`,"i"),longValue:new RegExp(`^${e}$`,"i")},o=new RegExp("^0[0-7]+$","i"),s=new RegExp("^0x[a-f0-9]+$","i"),i="%[0-9a-z]{1,}",a="(?:[0-9a-f]+::?)+",u={zoneIndex:new RegExp(i,"i"),native:new RegExp(`^(::)?(${a})?([0-9a-f]+)?(::)?(${i})?$`,"i"),deprecatedTransitional:new RegExp(`^(?:::)(${e}\\.${e}\\.${e}\\.${e}(${i})?)$`,"i"),transitional:new RegExp(`^((?:${a})|(?:::)(?:${a})?)${e}\\.${e}\\.${e}\\.${e}(${i})?$`,"i")};function c(t,n){if(t.indexOf("::")!==t.lastIndexOf("::"))return null;let e,r,o=0,s=-1,i=(t.match(u.zoneIndex)||[])[0];for(i&&(i=i.substring(1),t=t.replace(/%.+$/,""));(s=t.indexOf(":",s+1))>=0;)o++;if("::"===t.substr(0,2)&&o--,"::"===t.substr(-2,2)&&o--,o>n)return null;for(r=n-o,e=":";r--;)e+="0:";return":"===(t=t.replace("::",e))[0]&&(t=t.slice(1)),":"===t[t.length-1]&&(t=t.slice(0,-1)),{parts:n=function(){const n=t.split(":"),e=[];for(let t=0;t<n.length;t++)e.push(parseInt(n[t],16));return e}(),zoneId:i}}function l(t,n,e,r){if(t.length!==n.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");let o,s=0;for(;r>0;){if(o=e-r,o<0&&(o=0),t[s]>>o!=n[s]>>o)return!1;r-=e,s+=1}return!0}function d(t){if(s.test(t))return parseInt(t,16);if("0"===t[0]&&!isNaN(parseInt(t[1],10))){if(o.test(t))return parseInt(t,8);throw new Error(`ipaddr: cannot parse ${t} as octal`)}return parseInt(t,10)}function p(t,n){for(;t.length<n;)t=`0${t}`;return t}const f={};f.IPv4=function(){function t(t){if(4!==t.length)throw new Error("ipaddr: ipv4 octet count should be 4");let n,e;for(n=0;n<t.length;n++)if(e=t[n],!(0<=e&&e<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=t}return t.prototype.SpecialRanges={unspecified:[[new t([0,0,0,0]),8]],broadcast:[[new t([255,255,255,255]),32]],multicast:[[new t([224,0,0,0]),4]],linkLocal:[[new t([169,254,0,0]),16]],loopback:[[new t([127,0,0,0]),8]],carrierGradeNat:[[new t([100,64,0,0]),10]],private:[[new t([10,0,0,0]),8],[new t([172,16,0,0]),12],[new t([192,168,0,0]),16]],reserved:[[new t([192,0,0,0]),24],[new t([192,0,2,0]),24],[new t([192,88,99,0]),24],[new t([198,51,100,0]),24],[new t([203,0,113,0]),24],[new t([240,0,0,0]),4]]},t.prototype.kind=function(){return"ipv4"},t.prototype.match=function(t,n){let e;if(void 0===n&&(e=t,t=e[0],n=e[1]),"ipv4"!==t.kind())throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return l(this.octets,t.octets,8,n)},t.prototype.prefixLengthFromSubnetMask=function(){let t=0,n=!1;const e={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0};let r,o,s;for(r=3;r>=0;r-=1){if(o=this.octets[r],!(o in e))return null;if(s=e[o],n&&0!==s)return null;8!==s&&(n=!0),t+=s}return 32-t},t.prototype.range=function(){return f.subnetMatch(this,this.SpecialRanges)},t.prototype.toByteArray=function(){return this.octets.slice(0)},t.prototype.toIPv4MappedAddress=function(){return f.IPv6.parse(`::ffff:${this.toString()}`)},t.prototype.toNormalizedString=function(){return this.toString()},t.prototype.toString=function(){return this.octets.join(".")},t}(),f.IPv4.broadcastAddressFromCIDR=function(t){try{const n=this.parseCIDR(t),e=n[0].toByteArray(),r=this.subnetMaskFromPrefixLength(n[1]).toByteArray(),o=[];let s=0;for(;s<4;)o.push(parseInt(e[s],10)|255^parseInt(r[s],10)),s++;return new this(o)}catch(t){throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},f.IPv4.isIPv4=function(t){return null!==this.parser(t)},f.IPv4.isValid=function(t){try{return new this(this.parser(t)),!0}catch(t){return!1}},f.IPv4.isValidFourPartDecimal=function(t){return!(!f.IPv4.isValid(t)||!t.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},f.IPv4.networkAddressFromCIDR=function(t){let n,e,r,o,s;try{for(n=this.parseCIDR(t),r=n[0].toByteArray(),s=this.subnetMaskFromPrefixLength(n[1]).toByteArray(),o=[],e=0;e<4;)o.push(parseInt(r[e],10)&parseInt(s[e],10)),e++;return new this(o)}catch(t){throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},f.IPv4.parse=function(t){const n=this.parser(t);if(null===n)throw new Error("ipaddr: string is not formatted like an IPv4 Address");return new this(n)},f.IPv4.parseCIDR=function(t){let n;if(n=t.match(/^(.+)\/(\d+)$/)){const t=parseInt(n[2]);if(t>=0&&t<=32){const e=[this.parse(n[1]),t];return Object.defineProperty(e,"toString",{value:function(){return this.join("/")}}),e}}throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},f.IPv4.parser=function(t){let n,e,o;if(n=t.match(r.fourOctet))return function(){const t=n.slice(1,6),r=[];for(let n=0;n<t.length;n++)e=t[n],r.push(d(e));return r}();if(n=t.match(r.longValue)){if(o=d(n[1]),o>4294967295||o<0)throw new Error("ipaddr: address outside defined range");return function(){const t=[];let n;for(n=0;n<=24;n+=8)t.push(o>>n&255);return t}().reverse()}return(n=t.match(r.twoOctet))?function(){const t=n.slice(1,4),e=[];if(o=d(t[1]),o>16777215||o<0)throw new Error("ipaddr: address outside defined range");return e.push(d(t[0])),e.push(o>>16&255),e.push(o>>8&255),e.push(255&o),e}():(n=t.match(r.threeOctet))?function(){const t=n.slice(1,5),e=[];if(o=d(t[2]),o>65535||o<0)throw new Error("ipaddr: address outside defined range");return e.push(d(t[0])),e.push(d(t[1])),e.push(o>>8&255),e.push(255&o),e}():null},f.IPv4.subnetMaskFromPrefixLength=function(t){if((t=parseInt(t))<0||t>32)throw new Error("ipaddr: invalid IPv4 prefix length");const n=[0,0,0,0];let e=0;const r=Math.floor(t/8);for(;e<r;)n[e]=255,e++;return r<4&&(n[r]=Math.pow(2,t%8)-1<<8-t%8),new this(n)},f.IPv6=function(){function t(t,n){let e,r;if(16===t.length)for(this.parts=[],e=0;e<=14;e+=2)this.parts.push(t[e]<<8|t[e+1]);else{if(8!==t.length)throw new Error("ipaddr: ipv6 part count should be 8 or 16");this.parts=t}for(e=0;e<this.parts.length;e++)if(r=this.parts[e],!(0<=r&&r<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");n&&(this.zoneId=n)}return t.prototype.SpecialRanges={unspecified:[new t([0,0,0,0,0,0,0,0]),128],linkLocal:[new t([65152,0,0,0,0,0,0,0]),10],multicast:[new t([65280,0,0,0,0,0,0,0]),8],loopback:[new t([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new t([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new t([0,0,0,0,0,65535,0,0]),96],rfc6145:[new t([0,0,0,0,65535,0,0,0]),96],rfc6052:[new t([100,65435,0,0,0,0,0,0]),96],"6to4":[new t([8194,0,0,0,0,0,0,0]),16],teredo:[new t([8193,0,0,0,0,0,0,0]),32],reserved:[[new t([8193,3512,0,0,0,0,0,0]),32]]},t.prototype.isIPv4MappedAddress=function(){return"ipv4Mapped"===this.range()},t.prototype.kind=function(){return"ipv6"},t.prototype.match=function(t,n){let e;if(void 0===n&&(e=t,t=e[0],n=e[1]),"ipv6"!==t.kind())throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return l(this.parts,t.parts,16,n)},t.prototype.prefixLengthFromSubnetMask=function(){let t=0,n=!1;const e={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0};let r,o;for(let s=7;s>=0;s-=1){if(r=this.parts[s],!(r in e))return null;if(o=e[r],n&&0!==o)return null;16!==o&&(n=!0),t+=o}return 128-t},t.prototype.range=function(){return f.subnetMatch(this,this.SpecialRanges)},t.prototype.toByteArray=function(){let t;const n=[],e=this.parts;for(let r=0;r<e.length;r++)t=e[r],n.push(t>>8),n.push(255&t);return n},t.prototype.toFixedLengthString=function(){const t=function(){const t=[];for(let n=0;n<this.parts.length;n++)t.push(p(this.parts[n].toString(16),4));return t}.call(this).join(":");let n="";return this.zoneId&&(n=`%${this.zoneId}`),t+n},t.prototype.toIPv4Address=function(){if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");const t=this.parts.slice(-2),n=t[0],e=t[1];return new f.IPv4([n>>8,255&n,e>>8,255&e])},t.prototype.toNormalizedString=function(){const t=function(){const t=[];for(let n=0;n<this.parts.length;n++)t.push(this.parts[n].toString(16));return t}.call(this).join(":");let n="";return this.zoneId&&(n=`%${this.zoneId}`),t+n},t.prototype.toRFC5952String=function(){const t=/((^|:)(0(:|$)){2,})/g,n=this.toNormalizedString();let e,r=0,o=-1;for(;e=t.exec(n);)e[0].length>o&&(r=e.index,o=e[0].length);return o<0?n:`${n.substring(0,r)}::${n.substring(r+o)}`},t.prototype.toString=function(){return this.toNormalizedString().replace(/((^|:)(0(:|$))+)/,"::")},t}(),f.IPv6.isIPv6=function(t){return null!==this.parser(t)},f.IPv6.isValid=function(t){if("string"==typeof t&&-1===t.indexOf(":"))return!1;try{const n=this.parser(t);return new this(n.parts,n.zoneId),!0}catch(t){return!1}},f.IPv6.parse=function(t){const n=this.parser(t);if(null===n.parts)throw new Error("ipaddr: string is not formatted like an IPv6 Address");return new this(n.parts,n.zoneId)},f.IPv6.parseCIDR=function(t){let n,e,r;if((e=t.match(/^(.+)\/(\d+)$/))&&(n=parseInt(e[2]),n>=0&&n<=128))return r=[this.parse(e[1]),n],Object.defineProperty(r,"toString",{value:function(){return this.join("/")}}),r;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},f.IPv6.parser=function(t){let n,e,r,o,s,i;if(r=t.match(u.deprecatedTransitional))return this.parser(`::ffff:${r[1]}`);if(u.native.test(t))return c(t,8);if((r=t.match(u.transitional))&&(i=r[6]||"",n=c(r[1].slice(0,-1)+i,6),n.parts)){for(s=[parseInt(r[2]),parseInt(r[3]),parseInt(r[4]),parseInt(r[5])],e=0;e<s.length;e++)if(o=s[e],!(0<=o&&o<=255))return null;return n.parts.push(s[0]<<8|s[1]),n.parts.push(s[2]<<8|s[3]),{parts:n.parts,zoneId:n.zoneId}}return null},f.fromByteArray=function(t){const n=t.length;if(4===n)return new f.IPv4(t);if(16===n)return new f.IPv6(t);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},f.isValid=function(t){return f.IPv6.isValid(t)||f.IPv4.isValid(t)},f.parse=function(t){if(f.IPv6.isValid(t))return f.IPv6.parse(t);if(f.IPv4.isValid(t))return f.IPv4.parse(t);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},f.parseCIDR=function(t){try{return f.IPv6.parseCIDR(t)}catch(n){try{return f.IPv4.parseCIDR(t)}catch(t){throw new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},f.process=function(t){const n=this.parse(t);return"ipv6"===n.kind()&&n.isIPv4MappedAddress()?n.toIPv4Address():n},f.subnetMatch=function(t,n,e){let r,o,s,i;for(o in null==e&&(e="unicast"),n)if(Object.prototype.hasOwnProperty.call(n,o))for(s=n[o],!s[0]||s[0]instanceof Array||(s=[s]),r=0;r<s.length;r++)if(i=s[r],t.kind()===i[0].kind()&&t.match.apply(t,i))return o;return e},t.exports?t.exports=f:n.ipaddr=f}(this)},65:function(t,n,e){"use strict";e.r(n),e.d(n,"datatableFn",(function(){return l}));var r=e(39),o=e(78),s=e(87),i=e(525),a=e.n(i);function u(t,n){if(!a.a.isValid(t))return{parts:Array(8).fill(n*(1/0))};const e=a.a.parse(t);return function(t){return"ipv6"===t.kind()}(e)?e:e.toIPv4MappedAddress()}function c(t,n,e,r){const o="asc"===r?1:-1;let s;return s=["number","date"].includes(t||"")?(t,e)=>o*(t[n]-e[n]):"range"===t?function(t,n){const e={gte:-1/0,lt:1/0};return(r,o)=>{const s={...e,...r[t]},i={...e,...o[t]},a=s.gte-i.gte,u=s.lt-i.lt;return n*(a||u)}}(n,o):"ip"===t?function(t,n){return(e,r)=>{const o=e[t],s=r[t],i=u(o,n),a=u(s,n);let c=0,l=i.parts[c]-a.parts[c];for(;!l&&c<7;)c++,l=i.parts[c]-a.parts[c];return 0===l?n*(o.length-s.length):n*l}}(n,o):(t,r)=>{const s=e.convert(t[n]),i=e.convert(r[n]);return o*s.localeCompare(i)},function(t,n){return(e,r)=>{const o=e[t],s=r[t];return null==o||null==s||Number.isNaN(o)||Number.isNaN(s)?null==o||Number.isNaN(o)?1:null==s||Number.isNaN(s)?-1:0:n(e,r)}}(n,s)}const l=t=>async(n,e,i)=>{let a;const[u]=Object.values(n.tables),[l]=Object.keys(i.inspectorAdapters.tables||{}),d={},p=await t(i);u.columns.forEach((t=>{var n;d[t.id]=p(null===(n=t.meta)||void 0===n?void 0:n.params)}));e.columns.some((t=>t.isTransposed))&&(a=Object(r.cloneDeep)(n),Object(o.b)(e,u,d));const{sortingColumnId:f,sortingDirection:h}=e,m=u.columns.reduce(((t,{id:n,name:e,meta:r},o)=>(t[n]={name:e,index:o,meta:r},t)),{}),v=e.columns.filter((t=>t.summaryRow));for(const t of v)t.summaryRowValue=Object(s.a)(t,u,d,p({id:"number"}));if(f&&m[f]&&"none"!==h){var w,I,g;const t=c("range"===(null==(b=null===(w=m[f])||void 0===w?void 0:w.meta)||null===(y=b.params)||void 0===y?void 0:y.id)?"range":null===(I=m[f])||void 0===I||null===(g=I.meta)||void 0===g?void 0:g.type,f,d[f],h);i.inspectorAdapters.tables[l].rows=(u.rows||[]).slice().sort(t),u.rows=i.inspectorAdapters.tables[l].rows}else e.sortingColumnId=void 0,e.sortingDirection="none";var b,y;return{type:"render",as:"lens_datatable_renderer",value:{data:n,untransposedData:a,args:e}}}},78:function(t,n,e){"use strict";e.d(n,"a",(function(){return s})),e.d(n,"b",(function(){return i}));const r="---";function o(t,n){return`${t}---${n}`}function s(t){if(t.includes(r)){const n=t.split(r);return n[n.length-1]}return t}function i(t,n,e){t.columns.filter((t=>t.isTransposed)).reverse().forEach((({columnId:r})=>{const s=n.columns.findIndex((t=>t.id===r)),i=n.columns[s],a=e[i.id],{uniqueValues:u,uniqueRawValues:c}=function(t,n,e){const r=new Map;t.rows.forEach((t=>{const o=t[e];r.set(n.convert(t[e]),o)}));const o=[...r.keys()],s=[...r.values()];return{uniqueValues:o,uniqueRawValues:s}}(n,a,r),l=t.columns.filter((t=>t.transposable)),d=t.columns.filter((t=>!t.transposable&&t.columnId!==r));n.columns.splice(s,1),function(t,n,e,r,s,i,a){const u=e.map((t=>{const n=r.columns.find((n=>n.id===t.columnId)),e=s.map((e=>({...n,id:o(e,t.columnId),name:`${e} â€º ${n.name}`})));return r.columns.splice(r.columns.findIndex((n=>n.id===t.columnId)),1,...e),s.map(((e,r)=>({...t,columnId:o(e,t.columnId),originalColumnId:t.originalColumnId||t.columnId,originalName:t.originalName||n.name,bucketValues:[...t.bucketValues||[],{originalBucketColumn:a,value:i[r]}]})))}));!function(t,n,e){t.columns=[...n],e[0].forEach(((n,r)=>{e.forEach((n=>{t.columns.push(n[r])}))}))}(t,n,u)}(t,d,l,n,u,c,i),function(t,n,e,r,s,i){const a=function(t,n,e){const r={};return t.rows.forEach((t=>{const o=n.map((n=>e[n.columnId].convert(t[n.columnId]))).join(",");r[o]||(r[o]=[]),r[o].push(t)})),r}(t,n,e);t.rows=function(t,n,e,r,s){return Object.values(t).map((t=>{const i={};return n.forEach((n=>{i[n.columnId]=t[0][n.columnId]})),t.forEach((t=>{const n=e.convert(t[r]);s.forEach((e=>{i[o(n,e.columnId)]=t[e.columnId]}))})),i}))}(a,n,r,s,i)}(n,d,e,a,r,l)}))}},83:function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var r=e(78);function o(t){return"number"==typeof t||null==t}function s(t,n){var e;return"number"===(null==t||null===(e=t.columns.find((t=>t.id===n||Object(r.a)(t.id)===n)))||void 0===e?void 0:e.meta.type)&&(null==t?void 0:t.rows.every((t=>{const e=t[n];return o(e)||Array.isArray(e)&&e.every(o)})))}},87:function(t,n,e){"use strict";e.d(n,"c",(function(){return i})),e.d(n,"b",(function(){return a})),e.d(n,"d",(function(){return u})),e.d(n,"a",(function(){return c}));var r=e(0),o=e(78),s=e(83);function i(t,n,e){var r;const o=Object(s.a)(e,t)&&(null==n?void 0:n.summaryRow)||"none";return{summaryRow:o,summaryLabel:null!==(r=null==n?void 0:n.summaryLabel)&&void 0!==r?r:a(o)}}function a(t){return u().find((({value:n})=>t===n)).label}function u(){return[{value:"none",label:r.i18n.translate("xpack.lens.table.summaryRow.none",{defaultMessage:"None"}),"data-test-subj":"lns-datatable-summary-none"},{value:"count",label:r.i18n.translate("xpack.lens.table.summaryRow.count",{defaultMessage:"Value count"}),"data-test-subj":"lns-datatable-summary-count"},{value:"sum",label:r.i18n.translate("xpack.lens.table.summaryRow.sum",{defaultMessage:"Sum"}),"data-test-subj":"lns-datatable-summary-sum"},{value:"avg",label:r.i18n.translate("xpack.lens.table.summaryRow.average",{defaultMessage:"Average"}),"data-test-subj":"lns-datatable-summary-avg"},{value:"min",label:r.i18n.translate("xpack.lens.table.summaryRow.minimum",{defaultMessage:"Minimum"}),"data-test-subj":"lns-datatable-summary-min"},{value:"max",label:r.i18n.translate("xpack.lens.table.summaryRow.maximum",{defaultMessage:"Maximum"}),"data-test-subj":"lns-datatable-summary-max"}]}function c(t,n,e,r){const s=function(t,n,e){const r=e.filter((t=>null!=t[n])).flatMap((t=>t[n])),o=r.length,s=r.reduce(((t,n)=>t+n),0);switch(t){case"sum":return s;case"count":return o;case"avg":return s/o;case"min":return Math.min(...r);case"max":return Math.max(...r);default:throw Error("No summary function found")}}(t.summaryRow,t.columnId,n.rows);return"count"===t.summaryRow?r.convert(s):e[Object(o.a)(t.columnId)].convert(s)}}}]);