(window.data_bundle_jsonpfunction=window.data_bundle_jsonpfunction||[]).push([[9],{124:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return suggestions_component_SuggestionsComponent}));var n=s(3),o=s.n(n),i=s(1),r=s(4),a=s.n(r),p=s(107),l=s.n(p),c=s(111),d=s.n(c),u=s(13);function h(e){switch(e){case"field":return"kqlField";case"value":return"kqlValue";case"recentSearch":return"search";case"conjunction":return"kqlSelector";case"operator":return"kqlOperand";default:throw new Error(`Unknown type: ${e}`)}}function g(e){return a.a.createElement("div",{className:l()({kbnTypeahead__item:!0,active:e.selected}),role:"option",onClick:()=>e.onClick(e.suggestion,e.index),onMouseEnter:e.onMouseEnter,ref:e.innerRef,id:e.ariaId,"aria-selected":e.selected,"data-test-subj":`autocompleteSuggestion-${e.suggestion.type}-${e.suggestion.text.replace(/\s/g,"-")}`},a.a.createElement("div",{className:"kbnSuggestionItem kbnSuggestionItem--"+e.suggestion.type},a.a.createElement("div",{className:"kbnSuggestionItem__type"},a.a.createElement(u.EuiIcon,{type:h(e.suggestion.type)})),a.a.createElement("div",{className:"kbnSuggestionItem__text","data-test-subj":"autoCompleteSuggestionText"},e.suggestion.text),e.shouldDisplayDescription&&a.a.createElement("div",{className:"kbnSuggestionItem__description"},e.suggestion.description)))}class suggestions_component_SuggestionsComponent extends r.Component{constructor(...e){super(...e),o()(this,"childNodes",[]),o()(this,"parentNode",null),o()(this,"scrollIntoView",(()=>{if(null===this.props.index)return;const e=this.parentNode,t=this.childNodes[this.props.index];if(null==this.props.index||!e||!t)return;const s=Math.max(Math.min(e.scrollTop,t.offsetTop),t.offsetTop+t.offsetHeight-e.offsetHeight);e.scrollTop=s})),o()(this,"handleScroll",(()=>{if(!this.props.loadMore||!this.parentNode)return;const e=this.parentNode.scrollTop+this.parentNode.offsetHeight,t=this.parentNode.scrollHeight;t&&e&&t-e<=50&&this.props.loadMore()}))}render(){if(!this.props.queryBarRect||!this.props.show||Object(i.isEmpty)(this.props.suggestions))return null;const e=this.props.suggestions.map(((e,t)=>{const s=this.props.queryBarRect.width>=600;return a.a.createElement(g,{innerRef:e=>this.childNodes[t]=e,selected:t===this.props.index,index:t,suggestion:e,onClick:this.props.onClick,onMouseEnter:()=>this.props.onMouseEnter(t),ariaId:"suggestion-"+t,key:`${e.type} - ${e.text}`,shouldDisplayDescription:s})})),t=document.documentElement.clientHeight||window.innerHeight,{queryBarRect:s}=this.props,n=t-(s.top+s.height)>250,o=n?`top: ${window.scrollY+s.bottom-0}px;`:`bottom: ${t-(window.scrollY+s.top)}px;`;return a.a.createElement(m,{queryBarRect:s,verticalListPosition:o},a.a.createElement("div",{className:l()("kbnTypeahead",{"kbnTypeahead--small":"s"===this.props.size})},a.a.createElement("div",{className:l()("kbnTypeahead__popover",{"kbnTypeahead__popover--bottom":n,"kbnTypeahead__popover--top":!n})},a.a.createElement("div",{id:"kbnTypeahead__items",role:"listbox",ref:e=>this.parentNode=e,onScroll:this.handleScroll},e))))}componentDidUpdate(e){e.index!==this.props.index&&this.scrollIntoView()}}const m=d.a.div.withConfig({displayName:"StyledSuggestionsListDiv",componentId:"sc-8s3ge7-0"})(["",""],(e=>`\n      position: absolute;\n      z-index: 4001;\n      left: ${e.queryBarRect.left}px;\n      width: ${e.queryBarRect.width}px;\n      ${e.verticalListPosition}`))}}]);